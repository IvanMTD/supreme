<div class="row-100-block whited">
    <div class="col-20"></div>
    <div class="col-60" style="display: flex">
        <div class="col-70-inline-flex">
            <div class="flex-center" style="width: 100%">
                <form th:method="POST" th:action="@{/matrial/search}">
                    <input type="text" placeholder="поиск материалов" style="width: 70%; height: 30px">
                    <input type="submit" value="поиск" class="input-button" style="width: 20%">
                </form>
            </div>
        </div>
        <div class="col-30-inline-flex">
            <div class="flex-center" style="width: 100%" th:if="${rolePublisher}">
                <form th:method="GET" th:action="@{/material/post}" class="text-center">
                    <input type="submit" value="add post" class="input-button">
                </form>
            </div>
        </div>
    </div>
    <div class="col-20"></div>
</div>
<div class="row-100-block whited">
    <div class="col-20"></div>
    <div class="col-60-inline-flex">
        <div class="row-100-block">
            <div class="row-100-block shadow" th:each="category, stat : ${categories}" style="margin: 1vh">
                <div id="st">
                    <div class="col-80">
                        <div th:id="${stat.index}" onclick="openPosts(this.id)" style="cursor: pointer">
                            <div class="row-100-block text-center">
                                <h2 th:text="${category.getSportTag().getName()}"></h2>
                            </div>
                            <div class="row-100-block">
                                <p th:text="${category.getSportTag().getDescription()}"></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-20">
                        <img class="image" th:src="${category.getSportTag().getImagePath()}">
                    </div>
                </div>
                <div class="col-100" th:id="'cp-' + ${stat.index}" style="display: none">
                    <div th:each="post, pStat : ${category.getPosts()}" class="col-100 margin-bottom-2 shadow">
                        <div class="col-60 media-type">
                            <h2 th:text="${post.getName()}"></h2>
                            <p th:text="${post.getAnnotation()}"></p>
                        </div>
                        <div class="col-40 media-type">
                            <img class="image" th:src="${post.getImagePath()}">
                        </div>
                    </div>
                </div>
                <script>
                    function openPosts(index){
                        let check = document.getElementById('cp-' + index);
                        if(check.style.display === 'none'){
                            document.getElementById('cp-' + index).style.display='block';
                        }else{
                            document.getElementById('cp-' + index).style.display='none';
                        }
                    }
                </script>
            </div>
        </div>
    </div>
    <div class="col-20"></div>
</div>

<!--<div class="row-100-block shadow" th:each="post : ${posts}">
            <dib class="col-60 media-type">
                <h2 th:text="${post.getName()}"></h2>
                <p th:text="${post.getAnnotation()}"></p>
            </dib>
            <dib class="col-40 media-type">
                <img class="image" th:src="${post.getImagePath()}">
            </dib>
        </div>-->